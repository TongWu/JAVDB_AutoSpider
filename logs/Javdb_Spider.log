2025-12-17 21:20:24,542 - __main__ - INFO - Initializing proxy pool with 3 proxies...
2025-12-17 21:20:24,543 - utils.proxy_ban_manager - INFO - Loaded 1 ban records from logs/proxy_bans.csv
2025-12-17 21:20:24,543 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' is currently banned, skipping
2025-12-17 21:20:24,543 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM1' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-17 21:20:24,543 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM2' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-17 21:20:24,543 - __main__ - INFO - Proxy pool initialized successfully
2025-12-17 21:20:24,543 - __main__ - INFO - Cooldown: 691200s, Max failures before cooldown: 3
2025-12-17 21:20:24,543 - __main__ - INFO - Starting JavDB spider...
2025-12-17 21:20:24,543 - __main__ - INFO - Arguments: start_page=1, end_page=10, phase=all
2025-12-17 21:20:24,543 - __main__ - INFO - PROXY POOL MODE: 2 proxies configured with automatic failover
2025-12-17 21:20:24,543 - __main__ - INFO - PROXY ENABLED: Using proxy for modules ['spider_index', 'spider_detail']
2025-12-17 21:20:24,543 - __main__ - INFO - Validating history file integrity...
2025-12-17 21:20:24,586 - utils.history_manager - INFO - Loaded 6084 previously parsed movies from history (phase 1: 3471, phase 2: 2613)
2025-12-17 21:20:24,588 - __main__ - INFO - Initialized requests session
2025-12-17 21:20:24,588 - __main__ - INFO - ==================================================
2025-12-17 21:20:24,588 - __main__ - INFO - PHASE 1: Processing entries with both subtitle and today/yesterday tags
2025-12-17 21:20:24,588 - __main__ - INFO - ==================================================
2025-12-17 21:20:26,568 - utils.parser - INFO - [Page 1] Found 11 entries for phase 1
2025-12-17 21:20:32,149 - utils.parser - INFO - [Page 2] Found 0 entries for phase 1
2025-12-17 21:20:37,690 - utils.parser - INFO - [Page 3] Found 16 entries for phase 1
2025-12-17 21:20:43,208 - utils.parser - INFO - [Page 4] Found 0 entries for phase 1
2025-12-17 21:20:48,767 - utils.parser - INFO - [Page 5] Found 0 entries for phase 1
2025-12-17 21:20:54,268 - utils.parser - INFO - [Page 6] Found 0 entries for phase 1
2025-12-17 21:20:59,781 - utils.parser - INFO - [Page 7] Found 0 entries for phase 1
2025-12-17 21:21:05,359 - utils.parser - INFO - [Page 8] Found 0 entries for phase 1
2025-12-17 21:21:10,877 - utils.parser - INFO - [Page 9] Found 0 entries for phase 1
2025-12-17 21:21:16,491 - utils.parser - INFO - [Page 10] Found 0 entries for phase 1
2025-12-17 21:21:26,963 - __main__ - INFO - [1/27] [Page 1] Processing HMN-744
2025-12-17 21:21:37,475 - __main__ - INFO - [2/27] [Page 1] Processing HMN-768
2025-12-17 21:21:47,942 - __main__ - INFO - [3/27] [Page 1] Processing HMN-771
2025-12-17 21:21:58,515 - __main__ - INFO - [4/27] [Page 1] Processing HMN-780
2025-12-17 21:22:09,024 - __main__ - INFO - [5/27] [Page 1] Processing MIAB-582
2025-12-17 21:22:19,489 - __main__ - INFO - [6/27] [Page 1] Processing MIAB-583
2025-12-17 21:22:29,955 - __main__ - INFO - [7/27] [Page 1] Processing MIAB-584
2025-12-17 21:22:40,434 - __main__ - INFO - [8/27] [Page 1] Processing MIAB-595
2025-12-17 21:22:50,905 - __main__ - INFO - [9/27] [Page 1] Processing MIAB-596
2025-12-17 21:23:01,410 - __main__ - INFO - [10/27] [Page 1] Processing Blackedraw
2025-12-17 21:23:11,911 - __main__ - INFO - [11/27] [Page 1] Processing Blackedraw
2025-12-17 21:23:22,385 - __main__ - INFO - [12/27] [Page 3] Processing ALDN-533
2025-12-17 21:23:32,913 - __main__ - INFO - [13/27] [Page 3] Processing ALDN-534
2025-12-17 21:23:43,378 - __main__ - INFO - [14/27] [Page 3] Processing ALDN-535
2025-12-17 21:23:53,590 - __main__ - WARNING - [15/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:24:07,002 - __main__ - INFO - [15/27] Detail Proxy + CF Bypass succeeded. Switching mode to: use_proxy=True, use_cf_bypass=True
2025-12-17 21:24:07,002 - __main__ - INFO - [15/27] Updating session settings based on successful fallback: Proxy=True, CF=True
2025-12-17 21:24:07,002 - __main__ - INFO - [15/27] [Page 3] Processing ALDN-538
2025-12-17 21:24:17,221 - __main__ - WARNING - [16/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:24:17,656 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:24:17,656 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:24:18,085 - __main__ - WARNING - [16/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:24:18,085 - __main__ - ERROR - [16/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:24:28,292 - __main__ - WARNING - [17/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:24:28,733 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:24:28,737 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:24:29,162 - __main__ - WARNING - [17/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:24:29,162 - __main__ - ERROR - [17/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:24:39,379 - __main__ - WARNING - [18/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:24:39,822 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:24:39,822 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:24:40,259 - __main__ - WARNING - [18/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:24:40,260 - __main__ - ERROR - [18/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:24:50,473 - __main__ - WARNING - [19/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:24:50,944 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:24:50,944 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:24:51,372 - __main__ - WARNING - [19/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:24:51,372 - __main__ - ERROR - [19/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:01,604 - __main__ - WARNING - [20/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:02,080 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:25:02,080 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:25:02,522 - __main__ - WARNING - [20/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:02,523 - __main__ - ERROR - [20/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:12,762 - __main__ - WARNING - [21/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:13,220 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:25:13,220 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:25:13,665 - __main__ - WARNING - [21/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:13,666 - __main__ - ERROR - [21/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:23,874 - __main__ - WARNING - [22/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:24,308 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:25:24,308 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:25:24,742 - __main__ - WARNING - [22/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:24,742 - __main__ - ERROR - [22/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:34,959 - __main__ - WARNING - [23/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:35,396 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:25:35,397 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:25:35,825 - __main__ - WARNING - [23/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:35,825 - __main__ - ERROR - [23/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:46,089 - __main__ - WARNING - [24/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:46,536 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:25:46,537 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:25:46,968 - __main__ - WARNING - [24/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:46,968 - __main__ - ERROR - [24/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:25:57,198 - __main__ - WARNING - [25/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:25:57,640 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:25:57,640 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:25:58,069 - __main__ - WARNING - [25/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:25:58,069 - __main__ - ERROR - [25/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:26:08,286 - __main__ - WARNING - [26/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:26:08,738 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:26:08,738 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:09,162 - __main__ - WARNING - [26/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:26:09,162 - __main__ - ERROR - [26/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:26:19,376 - __main__ - WARNING - [27/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:26:19,844 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:26:19,846 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:26:20,286 - __main__ - WARNING - [27/27] Detail page fallback exhausted. Returning best available result.
2025-12-17 21:26:20,286 - __main__ - ERROR - [27/27] [Page 3] Failed to fetch/parse detail page after all fallback attempts
2025-12-17 21:26:20,286 - __main__ - INFO - Phase 1 completed: 0 entries processed
2025-12-17 21:26:20,286 - __main__ - INFO - ==================================================
2025-12-17 21:26:20,286 - __main__ - INFO - PHASE 2: Processing entries with only today/yesterday tag (rate > 4.0, comments > 85)
2025-12-17 21:26:20,286 - __main__ - INFO - ==================================================
2025-12-17 21:26:20,499 - __main__ - WARNING - [Page 1] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:26:20,933 - __main__ - WARNING - [Page 1] Proxy 'Singapore-ARM1' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 21:26:20,934 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:26:20,934 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:20,934 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (2/3)
2025-12-17 21:26:20,934 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:26:20,934 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (2/3)
2025-12-17 21:26:20,934 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:21,359 - __main__ - ERROR - [Page 1] All proxy attempts exhausted.
2025-12-17 21:26:21,360 - __main__ - WARNING - [Page 1] No movie list found after all fallback attempts
2025-12-17 21:26:21,576 - __main__ - WARNING - [Page 2] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:26:22,037 - __main__ - WARNING - [Page 2] Proxy 'Singapore-ARM2' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 21:26:22,038 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 21:26:22,038 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:26:22,038 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (3/3)
2025-12-17 21:26:22,038 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:22,038 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (2/3)
2025-12-17 21:26:22,038 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:26:22,466 - __main__ - ERROR - [Page 2] All proxy attempts exhausted.
2025-12-17 21:26:22,466 - __main__ - WARNING - [Page 2] No movie list found after all fallback attempts
2025-12-17 21:26:22,685 - __main__ - WARNING - [Page 3] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 21:26:23,324 - __main__ - WARNING - [Page 3] Proxy 'Singapore-ARM1' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 21:26:23,324 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 21:26:23,324 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:23,325 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (3/3)
2025-12-17 21:26:23,325 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 21:26:23,325 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (2/3)
2025-12-17 21:26:23,325 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 21:26:23,757 - __main__ - ERROR - [Page 3] All proxy attempts exhausted.
2025-12-17 21:26:23,757 - __main__ - WARNING - [Page 3] No movie list found after all fallback attempts
2025-12-17 21:26:23,757 - __main__ - INFO - [Page 3] Reached maximum tolerance (3 consecutive empty pages), stopping phase 2
2025-12-17 21:26:23,757 - __main__ - INFO - Phase 2 completed: 0 entries processed
2025-12-17 21:26:23,757 - __main__ - INFO - CSV file written incrementally to: Daily Report/Javdb_TodayTitle_20251217.csv
2025-12-17 21:26:23,757 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,757 - __main__ - INFO - SUMMARY REPORT
2025-12-17 21:26:23,757 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,757 - __main__ - INFO - Pages processed: 1 to 10
2025-12-17 21:26:23,757 - __main__ - INFO - Tolerance mechanism: Stops after 3 consecutive pages with no HTML content
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - PHASE 1 SUMMARY
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - Phase 1 entries found: 0
2025-12-17 21:26:23,758 - __main__ - INFO -   - No entries found in Phase 1
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - PHASE 2 SUMMARY
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - Phase 2 entries found: 0
2025-12-17 21:26:23,758 - __main__ - INFO -   - No entries found in Phase 2
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - OVERALL SUMMARY
2025-12-17 21:26:23,758 - __main__ - INFO - ==============================
2025-12-17 21:26:23,758 - __main__ - INFO - Total entries found: 0
2025-12-17 21:26:23,758 - __main__ - INFO - Successfully processed: 0
2025-12-17 21:26:23,758 - __main__ - INFO - Skipped already parsed in this session: 0
2025-12-17 21:26:23,758 - __main__ - INFO - Skipped already parsed in previous runs: 15
2025-12-17 21:26:23,758 - __main__ - INFO - Current parsed links in memory: 27
2025-12-17 21:26:23,759 - __main__ - INFO - Results saved to: Daily Report/Javdb_TodayTitle_20251217.csv
2025-12-17 21:26:23,759 - __main__ - INFO - History saved to: Daily Report/parsed_movies_history.csv
2025-12-17 21:26:23,759 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,759 - __main__ - INFO - 
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - ==================================================
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - PROXY POOL STATISTICS
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - ==================================================
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - Total proxies: 2
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - Available proxies: 2
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - In cooldown: 0
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - No-proxy mode: False
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - 
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO - Individual proxy statistics:
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -   [Standby] Singapore-ARM1:
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Total requests: 76
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Success rate: 85.5%
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Consecutive failures: 2
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Last success: 2025-12-17 21:26:23
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Last failure: 2025-12-17 21:26:23
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -   [ACTIVE] Singapore-ARM2:
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Total requests: 47
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Success rate: 78.7%
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Consecutive failures: 0
2025-12-17 21:26:23,759 - utils.proxy_pool - INFO -     - Last success: 2025-12-17 21:26:23
2025-12-17 21:26:23,760 - utils.proxy_pool - INFO -     - Last failure: 2025-12-17 21:26:23
2025-12-17 21:26:23,760 - utils.proxy_pool - INFO - ==================================================
2025-12-17 21:26:23,760 - __main__ - INFO - 
2025-12-17 21:26:23,760 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,760 - __main__ - INFO - PROXY BAN STATUS
2025-12-17 21:26:23,760 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,760 - __main__ - INFO - Currently banned proxies: 1

  - Miraculous Fortress:
    Banned at: 2025-12-12 19:02:51
    Will unban: 2025-12-19 19:02:51
    Time remaining: 1 days 21 hours
2025-12-17 21:26:23,760 - __main__ - INFO - ==================================================
2025-12-17 21:26:23,760 - __main__ - ERROR - ==================================================
2025-12-17 21:26:23,760 - __main__ - ERROR - CRITICAL: PROXY BAN DETECTED DURING THIS RUN
2025-12-17 21:26:23,760 - __main__ - ERROR - ==================================================
2025-12-17 21:26:23,760 - __main__ - ERROR - One or more proxies were marked as BANNED due to failure to retrieve movie list.
2025-12-17 21:26:23,760 - __main__ - ERROR - This indicates the proxy IP may be blocked by JavDB.
2025-12-17 21:26:23,760 - __main__ - ERROR - Please check proxy ban status and consider using different proxies.
