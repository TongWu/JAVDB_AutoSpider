2025-12-17 22:24:53,450 - __main__ - INFO - Initializing proxy pool with 3 proxies...
2025-12-17 22:24:53,451 - utils.proxy_ban_manager - INFO - Loaded 1 ban records from logs/proxy_bans.csv
2025-12-17 22:24:53,451 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' is currently banned, skipping
2025-12-17 22:24:53,451 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM1' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-17 22:24:53,451 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM2' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-17 22:24:53,451 - __main__ - INFO - Proxy pool initialized successfully
2025-12-17 22:24:53,451 - __main__ - INFO - Cooldown: 691200s, Max failures before cooldown: 3
2025-12-17 22:24:53,451 - __main__ - INFO - Starting JavDB spider...
2025-12-17 22:24:53,451 - __main__ - INFO - Arguments: start_page=1, end_page=10, phase=all
2025-12-17 22:24:53,451 - __main__ - INFO - PROXY POOL MODE: 2 proxies configured with automatic failover
2025-12-17 22:24:53,451 - __main__ - INFO - PROXY ENABLED: Using proxy for modules ['spider_index', 'spider_detail']
2025-12-17 22:24:53,451 - __main__ - INFO - Validating history file integrity...
2025-12-17 22:24:53,490 - utils.history_manager - INFO - Loaded 6085 previously parsed movies from history (phase 1: 3471, phase 2: 2614)
2025-12-17 22:24:53,491 - __main__ - INFO - Initialized requests session
2025-12-17 22:24:53,491 - __main__ - INFO - ==================================================
2025-12-17 22:24:53,491 - __main__ - INFO - PHASE 1: Processing entries with both subtitle and today/yesterday tags
2025-12-17 22:24:53,491 - __main__ - INFO - ==================================================
2025-12-17 22:24:55,380 - utils.parser - INFO - [Page 1] Found 11 entries for phase 1
2025-12-17 22:25:00,957 - utils.parser - INFO - [Page 2] Found 0 entries for phase 1
2025-12-17 22:25:06,520 - utils.parser - INFO - [Page 3] Found 16 entries for phase 1
2025-12-17 22:25:12,326 - utils.parser - INFO - [Page 4] Found 0 entries for phase 1
2025-12-17 22:25:18,053 - utils.parser - INFO - [Page 5] Found 0 entries for phase 1
2025-12-17 22:25:23,658 - utils.parser - INFO - [Page 6] Found 0 entries for phase 1
2025-12-17 22:25:29,319 - utils.parser - INFO - [Page 7] Found 0 entries for phase 1
2025-12-17 22:25:34,902 - utils.parser - INFO - [Page 8] Found 0 entries for phase 1
2025-12-17 22:25:40,442 - utils.parser - INFO - [Page 9] Found 0 entries for phase 1
2025-12-17 22:25:46,068 - utils.parser - INFO - [Page 10] Found 0 entries for phase 1
2025-12-17 22:25:56,575 - __main__ - INFO - [1/27] [Page 1] Processing HMN-744
2025-12-17 22:26:12,069 - __main__ - INFO - [2/27] [Page 1] Processing HMN-768
2025-12-17 22:26:27,544 - __main__ - INFO - [3/27] [Page 1] Processing HMN-771
2025-12-17 22:26:43,281 - __main__ - INFO - [4/27] [Page 1] Processing HMN-780
2025-12-17 22:26:58,780 - __main__ - INFO - [5/27] [Page 1] Processing MIAB-582
2025-12-17 22:27:14,289 - __main__ - INFO - [6/27] [Page 1] Processing MIAB-583
2025-12-17 22:27:29,904 - __main__ - INFO - [7/27] [Page 1] Processing MIAB-584
2025-12-17 22:27:45,391 - __main__ - INFO - [8/27] [Page 1] Processing MIAB-595
2025-12-17 22:28:00,892 - __main__ - INFO - [9/27] [Page 1] Processing MIAB-596
2025-12-17 22:28:16,410 - __main__ - INFO - [10/27] [Page 1] Processing Blackedraw
2025-12-17 22:28:31,967 - __main__ - INFO - [11/27] [Page 1] Processing Blackedraw
2025-12-17 22:28:47,450 - __main__ - INFO - [12/27] [Page 3] Processing ALDN-533
2025-12-17 22:29:02,945 - __main__ - INFO - [13/27] [Page 3] Processing ALDN-534
2025-12-17 22:29:18,421 - __main__ - INFO - [14/27] [Page 3] Processing ALDN-535
2025-12-17 22:29:33,912 - __main__ - INFO - [15/27] [Page 3] Processing ALDN-538
2025-12-17 22:29:49,425 - __main__ - INFO - [16/27] [Page 3] Processing SSIS-477
2025-12-17 22:30:04,948 - __main__ - INFO - [17/27] [Page 3] Processing SSIS-604
2025-12-17 22:30:20,547 - __main__ - INFO - [18/27] [Page 3] Processing SSIS-698
2025-12-17 22:30:36,110 - __main__ - INFO - [19/27] [Page 3] Processing SSIS-777
2025-12-17 22:30:51,680 - __main__ - INFO - [20/27] [Page 3] Processing SSIS-839
2025-12-17 22:31:07,161 - __main__ - INFO - [21/27] [Page 3] Processing START-407
2025-12-17 22:31:12,384 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/v/RkYGdR (Size: 6472 bytes). Waiting 10s before retry...
2025-12-17 22:31:22,387 - __main__ - WARNING - [22/27] Detail page initial attempt failed. Starting smart fallback mechanism...
2025-12-17 22:31:22,622 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/v/RkYGdR (Size: 6472 bytes). Waiting 10s before retry...
2025-12-17 22:31:34,430 - __main__ - INFO - [22/27] Detail Proxy + CF Bypass succeeded. Switching mode to: use_proxy=True, use_cf_bypass=True
2025-12-17 22:31:34,430 - __main__ - INFO - [22/27] Updating session settings based on successful fallback: Proxy=True, CF=True
2025-12-17 22:31:34,430 - __main__ - INFO - [22/27] [Page 3] Processing START-423
2025-12-17 22:31:50,820 - __main__ - INFO - [23/27] [Page 3] Processing START-458
2025-12-17 22:32:07,196 - __main__ - INFO - [24/27] [Page 3] Processing START-459
2025-12-17 22:32:23,597 - __main__ - INFO - [25/27] [Page 3] Processing START-464
2025-12-17 22:32:39,981 - __main__ - INFO - [26/27] [Page 3] Processing Blackedraw
2025-12-17 22:32:56,521 - __main__ - INFO - [27/27] [Page 3] Processing Tushy
2025-12-17 22:33:01,525 - __main__ - INFO - Phase 1 completed: 0 entries processed
2025-12-17 22:33:01,525 - __main__ - INFO - Waiting 30 seconds before Phase 2 to allow Cloudflare cooldown...
2025-12-17 22:33:31,531 - __main__ - INFO - ==================================================
2025-12-17 22:33:31,531 - __main__ - INFO - PHASE 2: Processing entries with only today/yesterday tag (rate > 4.0, comments > 85)
2025-12-17 22:33:31,532 - __main__ - INFO - ==================================================
2025-12-17 22:33:31,770 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=1 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:33:41,775 - __main__ - WARNING - [Page 1] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 22:33:41,983 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=1 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:33:52,222 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=1 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:02,227 - __main__ - WARNING - [Page 1] Proxy 'Singapore-ARM1' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 22:34:02,228 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 22:34:02,228 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 22:34:02,228 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 22:34:02,228 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 22:34:02,228 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (2/3)
2025-12-17 22:34:02,228 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 22:34:02,448 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=1 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:12,690 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=1 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:22,696 - __main__ - ERROR - [Page 1] All proxy attempts exhausted.
2025-12-17 22:34:22,696 - __main__ - INFO - [Page 1] no movie list found (page fetch failed or does not exist)
2025-12-17 22:34:22,932 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=2 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:32,937 - __main__ - WARNING - [Page 2] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 22:34:33,166 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=2 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:43,409 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=2 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:34:53,415 - __main__ - WARNING - [Page 2] Proxy 'Singapore-ARM2' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 22:34:53,415 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-17 22:34:53,415 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 22:34:53,415 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (3/3)
2025-12-17 22:34:53,415 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 22:34:53,415 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (2/3)
2025-12-17 22:34:53,415 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 22:34:53,695 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=2 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:04,003 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=2 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:14,008 - __main__ - ERROR - [Page 2] All proxy attempts exhausted.
2025-12-17 22:35:14,008 - __main__ - INFO - [Page 2] no movie list found (page fetch failed or does not exist)
2025-12-17 22:35:14,275 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=3 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:24,279 - __main__ - WARNING - [Page 3] Initial attempt failed. Starting smart fallback mechanism...
2025-12-17 22:35:24,488 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=3 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:34,720 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=3 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:44,722 - __main__ - WARNING - [Page 3] Proxy 'Singapore-ARM1' failed both Direct and CF modes. Marking BANNED and switching...
2025-12-17 22:35:44,722 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-17 22:35:44,723 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 22:35:44,723 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (3/3)
2025-12-17 22:35:44,723 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-17 22:35:44,723 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (2/3)
2025-12-17 22:35:44,723 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-17 22:35:44,932 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=3 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:35:55,160 - __main__ - WARNING - Cloudflare Turnstile verification page detected for https://javdb.com/?page=3 (Size: 6470 bytes). Waiting 10s before retry...
2025-12-17 22:36:05,161 - __main__ - ERROR - [Page 3] All proxy attempts exhausted.
2025-12-17 22:36:05,161 - __main__ - INFO - [Page 3] no movie list found (page fetch failed or does not exist)
2025-12-17 22:36:05,161 - __main__ - INFO - [Page 3] Reached maximum tolerance (3 consecutive empty pages), stopping phase 2
2025-12-17 22:36:05,161 - __main__ - INFO - Phase 2 completed: 0 entries processed
2025-12-17 22:36:05,161 - __main__ - INFO - CSV file written incrementally to: Daily Report/Javdb_TodayTitle_20251217.csv
2025-12-17 22:36:05,161 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,161 - __main__ - INFO - SUMMARY REPORT
2025-12-17 22:36:05,161 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,161 - __main__ - INFO - Pages processed: 1 to 10
2025-12-17 22:36:05,161 - __main__ - INFO - Tolerance mechanism: Stops after 3 consecutive pages with no HTML content
2025-12-17 22:36:05,161 - __main__ - INFO - ==============================
2025-12-17 22:36:05,161 - __main__ - INFO - PHASE 1 SUMMARY
2025-12-17 22:36:05,161 - __main__ - INFO - ==============================
2025-12-17 22:36:05,161 - __main__ - INFO - Phase 1 entries found: 0
2025-12-17 22:36:05,162 - __main__ - INFO -   - No entries found in Phase 1
2025-12-17 22:36:05,162 - __main__ - INFO - ==============================
2025-12-17 22:36:05,162 - __main__ - INFO - PHASE 2 SUMMARY
2025-12-17 22:36:05,162 - __main__ - INFO - ==============================
2025-12-17 22:36:05,162 - __main__ - INFO - Phase 2 entries found: 0
2025-12-17 22:36:05,162 - __main__ - INFO -   - No entries found in Phase 2
2025-12-17 22:36:05,162 - __main__ - INFO - ==============================
2025-12-17 22:36:05,162 - __main__ - INFO - OVERALL SUMMARY
2025-12-17 22:36:05,162 - __main__ - INFO - ==============================
2025-12-17 22:36:05,162 - __main__ - INFO - Total entries found: 0
2025-12-17 22:36:05,162 - __main__ - INFO - Successfully processed: 0
2025-12-17 22:36:05,162 - __main__ - INFO - Skipped already parsed in this session: 0
2025-12-17 22:36:05,162 - __main__ - INFO - Skipped already parsed in previous runs: 27
2025-12-17 22:36:05,162 - __main__ - INFO - Current parsed links in memory: 27
2025-12-17 22:36:05,162 - __main__ - INFO - Results saved to: Daily Report/Javdb_TodayTitle_20251217.csv
2025-12-17 22:36:05,162 - __main__ - INFO - History saved to: Daily Report/parsed_movies_history.csv
2025-12-17 22:36:05,162 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,162 - __main__ - INFO - 
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - ==================================================
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - PROXY POOL STATISTICS
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - ==================================================
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - Total proxies: 2
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - Available proxies: 2
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - In cooldown: 0
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - No-proxy mode: False
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - 
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO - Individual proxy statistics:
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO -   [Standby] Singapore-ARM1:
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO -     - Total requests: 52
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO -     - Success rate: 90.4%
2025-12-17 22:36:05,162 - utils.proxy_pool - INFO -     - Consecutive failures: 2
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Last success: 2025-12-17 22:35:34
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Last failure: 2025-12-17 22:35:44
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -   [ACTIVE] Singapore-ARM2:
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Total requests: 11
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Success rate: 63.6%
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Consecutive failures: 0
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Last success: 2025-12-17 22:35:55
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO -     - Last failure: 2025-12-17 22:35:44
2025-12-17 22:36:05,163 - utils.proxy_pool - INFO - ==================================================
2025-12-17 22:36:05,163 - __main__ - INFO - 
2025-12-17 22:36:05,163 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,163 - __main__ - INFO - PROXY BAN STATUS
2025-12-17 22:36:05,163 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,163 - __main__ - INFO - Currently banned proxies: 1

  - Miraculous Fortress:
    Banned at: 2025-12-12 19:02:51
    Will unban: 2025-12-19 19:02:51
    Time remaining: 1 days 20 hours
2025-12-17 22:36:05,163 - __main__ - INFO - ==================================================
2025-12-17 22:36:05,163 - __main__ - ERROR - ==================================================
2025-12-17 22:36:05,163 - __main__ - ERROR - CRITICAL: PROXY BAN DETECTED DURING THIS RUN
2025-12-17 22:36:05,163 - __main__ - ERROR - ==================================================
2025-12-17 22:36:05,163 - __main__ - ERROR - One or more proxies were marked as BANNED due to failure to retrieve movie list.
2025-12-17 22:36:05,163 - __main__ - ERROR - This indicates the proxy IP may be blocked by JavDB.
2025-12-17 22:36:05,163 - __main__ - ERROR - Please check proxy ban status and consider using different proxies.
