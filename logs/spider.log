2025-12-21 13:48:27,182 - __main__ - INFO - Initializing proxy pool with 3 proxies...
2025-12-21 13:48:27,183 - utils.proxy_ban_manager - INFO - Loaded 1 ban records from logs/proxy_bans.csv
2025-12-21 13:48:27,183 - utils.proxy_ban_manager - INFO - Removed expired ban record for proxy 'Miraculous Fortress'
2025-12-21 13:48:27,184 - utils.proxy_pool - INFO - Added proxy 'Miraculous Fortress' to pool (HTTP: http://***:***@139.xxx.xxx.231:12300, HTTPS: http://***:***@139.xxx.xxx.231:12300)
2025-12-21 13:48:27,184 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM1' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-21 13:48:27,184 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM2' to pool (HTTP: http://***:***@129.xxx.xxx.19:12300, HTTPS: http://***:***@129.xxx.xxx.19:12300)
2025-12-21 13:48:27,184 - __main__ - INFO - Proxy pool initialized successfully
2025-12-21 13:48:27,184 - __main__ - INFO - Cooldown: 691200s, Max failures before cooldown: 3
2025-12-21 13:48:27,184 - __main__ - INFO - Request handler initialized successfully
2025-12-21 13:48:27,184 - __main__ - INFO - Starting JavDB spider...
2025-12-21 13:48:27,184 - __main__ - INFO - Arguments: start_page=1, end_page=10, phase=all
2025-12-21 13:48:27,184 - __main__ - INFO - Custom URL: https://javdb.com/video_codes/NMSL
2025-12-21 13:48:27,184 - __main__ - INFO - AD HOC MODE: Will skip entries already in history (use --ignore-history to override)
2025-12-21 13:48:27,184 - __main__ - INFO - Validating history file integrity...
2025-12-21 13:48:27,226 - utils.history_manager - INFO - Loaded 6105 previously parsed movies from history (phase 1: 3490, phase 2: 2615)
2025-12-21 13:48:27,226 - __main__ - INFO - Initialized requests session
2025-12-21 13:48:27,226 - __main__ - INFO - ==================================================
2025-12-21 13:48:27,226 - __main__ - INFO - PHASE 1: Processing entries with both subtitle and today/yesterday tags
2025-12-21 13:48:27,226 - __main__ - INFO - ==================================================
2025-12-21 13:48:28,610 - __main__ - WARNING - [Page 1] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 13:48:41,704 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=52147, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:48:41,704 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=52147 bytes)
2025-12-21 13:48:41,720 - __main__ - INFO - [Page 1] Proxy + CF Bypass succeeded. Switching mode to: use_proxy=True, use_cf_bypass=True
2025-12-21 13:48:41,721 - __main__ - INFO - [Page 1] Fallback succeeded (Proxy=True, CF=True). Applying 30s cooldown before next page...
2025-12-21 13:49:11,740 - utils.parser - INFO - [Page 1] New releases filter disabled - will process all entries
2025-12-21 13:49:11,741 - utils.parser - INFO - [Page 1] Found 0 entries for phase 1
2025-12-21 13:49:28,081 - __main__ - WARNING - [Page 2] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 13:49:28,197 - utils.request_handler - ERROR - [Direct Proxy=Miraculous Fortress] Error: 403 Client Error: Forbidden for url: https://javdb.com/video_codes/NMSL?page=2
2025-12-21 13:49:28,197 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' failed (1/3)
2025-12-21 13:49:28,198 - utils.proxy_pool - INFO - Switched from 'Miraculous Fortress' to 'Singapore-ARM1'
2025-12-21 13:49:28,198 - utils.request_handler - INFO - [spider_index] Switched to proxy: Singapore-ARM1, retrying...
2025-12-21 13:49:40,915 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:49:40,916 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:49:41,885 - __main__ - WARNING - [Page 2] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:49:41,885 - __main__ - INFO - [Page 2] Switching to next proxy...
2025-12-21 13:49:41,885 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:49:41,885 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:49:54,817 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:49:54,817 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:49:55,703 - __main__ - WARNING - [Page 2] Proxy 'Miraculous Fortress' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:49:55,703 - __main__ - INFO - [Page 2] Switching to next proxy...
2025-12-21 13:49:55,703 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:49:55,703 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:50:08,644 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:50:08,644 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:50:09,565 - __main__ - ERROR - [Page 2] All proxy attempts exhausted.
2025-12-21 13:50:09,565 - __main__ - WARNING - [Page 2] No movie list found after all fallback attempts
2025-12-21 13:50:10,909 - __main__ - WARNING - [Page 3] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 13:50:11,015 - utils.request_handler - ERROR - [Direct Proxy=Miraculous Fortress] Error: 403 Client Error: Forbidden for url: https://javdb.com/video_codes/NMSL?page=3
2025-12-21 13:50:11,015 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' failed (2/3)
2025-12-21 13:50:11,015 - utils.proxy_pool - INFO - Switched from 'Miraculous Fortress' to 'Singapore-ARM1'
2025-12-21 13:50:11,015 - utils.request_handler - INFO - [spider_index] Switched to proxy: Singapore-ARM1, retrying...
2025-12-21 13:50:23,972 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=27419, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:50:23,972 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=27419 bytes)
2025-12-21 13:50:24,914 - __main__ - WARNING - [Page 3] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:50:24,914 - __main__ - INFO - [Page 3] Switching to next proxy...
2025-12-21 13:50:24,914 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:50:24,914 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:50:38,041 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:50:38,042 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:50:38,934 - __main__ - WARNING - [Page 3] Proxy 'Miraculous Fortress' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:50:38,934 - __main__ - INFO - [Page 3] Switching to next proxy...
2025-12-21 13:50:38,934 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:50:38,934 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:50:51,973 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:50:51,973 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:50:52,862 - __main__ - ERROR - [Page 3] All proxy attempts exhausted.
2025-12-21 13:50:52,862 - __main__ - WARNING - [Page 3] No movie list found after all fallback attempts
2025-12-21 13:50:54,216 - __main__ - WARNING - [Page 4] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 13:50:54,321 - utils.request_handler - ERROR - [Direct Proxy=Miraculous Fortress] Error: 403 Client Error: Forbidden for url: https://javdb.com/video_codes/NMSL?page=4
2025-12-21 13:50:54,321 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' failed (3/3)
2025-12-21 13:50:54,321 - utils.proxy_pool - INFO - Switched from 'Miraculous Fortress' to 'Singapore-ARM1'
2025-12-21 13:50:54,321 - utils.request_handler - INFO - [spider_index] Switched to proxy: Singapore-ARM1, retrying...
2025-12-21 13:51:07,047 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:51:07,047 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:51:08,217 - __main__ - WARNING - [Page 4] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:51:08,217 - __main__ - INFO - [Page 4] Switching to next proxy...
2025-12-21 13:51:08,217 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:51:08,217 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:51:21,181 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:51:21,181 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:51:22,072 - __main__ - WARNING - [Page 4] Proxy 'Miraculous Fortress' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 13:51:22,072 - __main__ - INFO - [Page 4] Switching to next proxy...
2025-12-21 13:51:22,072 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 13:51:22,072 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Miraculous Fortress'
2025-12-21 13:51:36,044 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 13:51:36,044 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 13:51:36,961 - __main__ - ERROR - [Page 4] All proxy attempts exhausted.
2025-12-21 13:51:36,961 - __main__ - WARNING - [Page 4] No movie list found after all fallback attempts
2025-12-21 13:51:36,961 - __main__ - INFO - [Page 4] Reached maximum tolerance (3 consecutive empty pages), stopping phase 1
2025-12-21 13:51:36,961 - __main__ - INFO - Phase 1 completed: 0 entries processed
2025-12-21 13:51:36,961 - __main__ - INFO - Waiting 60 seconds before Phase 2 to allow Cloudflare cooldown...
