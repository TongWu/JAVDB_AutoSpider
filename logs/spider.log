2025-12-21 14:00:11,298 - __main__ - INFO - Initializing proxy pool with 3 proxies...
2025-12-21 14:00:11,299 - utils.proxy_ban_manager - INFO - Loaded 1 ban records from logs/proxy_bans.csv
2025-12-21 14:00:11,299 - utils.proxy_pool - WARNING - Proxy 'Miraculous Fortress' is currently banned, skipping
2025-12-21 14:00:11,300 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM1' to pool (HTTP: http://***:***@140.xxx.xxx.124:12300, HTTPS: http://***:***@140.xxx.xxx.124:12300)
2025-12-21 14:00:11,300 - utils.proxy_pool - INFO - Added proxy 'Singapore-ARM2' to pool (HTTP: http://***:***@129.xxx.xxx.19:12300, HTTPS: http://***:***@129.xxx.xxx.19:12300)
2025-12-21 14:00:11,300 - __main__ - INFO - Proxy pool initialized successfully
2025-12-21 14:00:11,300 - __main__ - INFO - Cooldown: 691200s, Max failures before 2025-12-21 14:06:43,630 - __main__ - INFO - ✓ JavDB Spider completed successfully
2025-12-21 14:06:43,631 - __main__ - INFO - Step 2: Running qBittorrent Uploader...
2025-12-21 14:06:43,631 - __main__ - INFO - Running: python3 scripts/qb_uploader.py --from-pipeline --mode adhoc --input-file Javdb_AdHoc_video_codes_NMSL_20251221.csv
2025-12-21 14:06:43,857 - __main__ - INFO - ✓ qBittorrent Uploader completed successfully
2025-12-21 14:06:43,857 - __main__ - INFO - Step 3: Running PikPak Bridge to clean up old torrents...
2025-12-21 14:06:43,857 - __main__ - INFO - Running: python3 scripts/pikpak_bridge.py --from-pipeline --days 3
2025-12-21 14:06:44,574 - __main__ - INFO - ✓ PikPak Bridge completed successfully
2025-12-21 14:06:44,575 - __main__ - INFO - Step 4: Sending email notification...
2025-12-21 14:06:44,575 - __main__ - INFO - Running: python3 scripts/email_notification.py --from-pipeline --csv-path Ad Hoc/Javdb_AdHoc_video_codes_NMSL_20251221.csv
2025-12-21 14:06:48,561 - __main__ - ERROR - Script scripts/email_notification.py failed with return code 1
2025-12-21 14:06:48,561 - __main__ - ERROR - ============================================================
2025-12-21 14:06:48,561 - __main__ - ERROR - PIPELINE EXECUTION ERROR
2025-12-21 14:06:48,561 - __main__ - ERROR - ============================================================
2025-12-21 14:06:48,561 - __main__ - ERROR - Error: Script scripts/email_notification.py failed with return code 1
2025-12-21 14:06:48,561 - __main__ - INFO - Attempting to send failure notification email...
2025-12-21 14:06:48,561 - __main__ - INFO - Running: python3 scripts/email_notification.py --from-pipeline --csv-path Ad Hoc/Javdb_AdHoc_video_codes_NMSL_20251221.csv
ue). Applying 30s cooldown before next page...
2025-12-21 14:00:56,033 - utils.parser - INFO - [Page 1] New releases filter disabled - will process all entries
2025-12-21 14:00:56,035 - utils.parser - INFO - [Page 1] Found 0 entries for phase 1
2025-12-21 14:01:12,772 - __main__ - WARNING - [Page 2] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:01:25,883 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:01:49,675 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1: After over18 bypass, got 24364 bytes
2025-12-21 14:01:49,682 - utils.request_handler - WARNING - [CF Bypass] Proxy=Singapore-ARM1: Over18 bypass did not help, still no content
2025-12-21 14:01:49,682 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 14:01:49,695 - __main__ - WARNING - [Page 2] Proxy 'Singapore-ARM1' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:01:49,695 - __main__ - INFO - [Page 2] Switching to next proxy...
2025-12-21 14:01:49,695 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-21 14:01:49,695 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-21 14:02:02,660 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=26377, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:02:25,981 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2: After over18 bypass, got 25406 bytes
2025-12-21 14:02:25,990 - utils.request_handler - WARNING - [CF Bypass] Proxy=Singapore-ARM2: Over18 bypass did not help, still no content
2025-12-21 14:02:25,990 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=26377 bytes)
2025-12-21 14:02:26,000 - __main__ - ERROR - [Page 2] All proxy attempts exhausted.
2025-12-21 14:02:26,000 - __main__ - WARNING - [Page 2] No movie list found after all fallback attempts
2025-12-21 14:02:27,377 - __main__ - WARNING - [Page 3] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:02:40,491 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:02:40,498 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:02:40,509 - __main__ - WARNING - [Page 3] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:02:40,509 - __main__ - INFO - [Page 3] Switching to next proxy...
2025-12-21 14:02:40,509 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 14:02:40,509 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-21 14:02:53,304 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:02:53,313 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:02:53,320 - __main__ - ERROR - [Page 3] All proxy attempts exhausted.
2025-12-21 14:02:53,320 - __main__ - WARNING - [Page 3] No movie list found after all fallback attempts
2025-12-21 14:02:54,715 - __main__ - WARNING - [Page 4] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:03:07,589 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:03:07,598 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:03:07,610 - __main__ - WARNING - [Page 4] Proxy 'Singapore-ARM1' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:03:07,610 - __main__ - INFO - [Page 4] Switching to next proxy...
2025-12-21 14:03:07,610 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-21 14:03:07,610 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-21 14:03:20,379 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:03:20,388 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:03:20,400 - __main__ - ERROR - [Page 4] All proxy attempts exhausted.
2025-12-21 14:03:20,400 - __main__ - WARNING - [Page 4] No movie list found after all fallback attempts
2025-12-21 14:03:20,400 - __main__ - INFO - [Page 4] Reached maximum tolerance (3 consecutive empty pages), stopping phase 1
2025-12-21 14:03:20,400 - __main__ - INFO - Phase 1 completed: 0 entries processed
2025-12-21 14:03:20,400 - __main__ - INFO - Waiting 60 seconds before Phase 2 to allow Cloudflare cooldown...
2025-12-21 14:04:20,406 - __main__ - INFO - ==================================================
2025-12-21 14:04:20,407 - __main__ - INFO - PHASE 2: Processing entries with only today/yesterday tag (rate > 4.0, comments > 85)
2025-12-21 14:04:20,407 - __main__ - INFO - ==================================================
2025-12-21 14:04:21,806 - __main__ - WARNING - [Page 1] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:04:34,775 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=50078, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:04:34,791 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=50078 bytes)
2025-12-21 14:04:34,814 - __main__ - INFO - [Page 1] Proxy + CF Bypass succeeded. Switching mode to: use_proxy=True, use_cf_bypass=True
2025-12-21 14:04:34,814 - __main__ - INFO - [Page 1] Fallback succeeded (Proxy=True, CF=True). Applying 30s cooldown before next page...
2025-12-21 14:05:04,831 - utils.parser - INFO - [Page 1] New releases filter disabled - will process all entries
2025-12-21 14:05:04,835 - utils.parser - INFO - [Page 1] Found 0 entries for phase 2
2025-12-21 14:05:21,183 - __main__ - WARNING - [Page 2] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:05:34,058 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:05:34,068 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:05:34,077 - __main__ - WARNING - [Page 2] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:05:34,077 - __main__ - INFO - [Page 2] Switching to next proxy...
2025-12-21 14:05:34,077 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 14:05:34,077 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-21 14:05:47,105 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:05:47,116 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:05:47,124 - __main__ - ERROR - [Page 2] All proxy attempts exhausted.
2025-12-21 14:05:47,124 - __main__ - WARNING - [Page 2] No movie list found after all fallback attempts
2025-12-21 14:05:48,815 - __main__ - WARNING - [Page 3] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:06:01,941 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:06:01,951 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:06:01,962 - __main__ - WARNING - [Page 3] Proxy 'Singapore-ARM1' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:06:01,962 - __main__ - INFO - [Page 3] Switching to next proxy...
2025-12-21 14:06:01,962 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM1' failed (1/3)
2025-12-21 14:06:01,962 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM1' to 'Singapore-ARM2'
2025-12-21 14:06:14,991 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:06:14,997 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:06:15,004 - __main__ - ERROR - [Page 3] All proxy attempts exhausted.
2025-12-21 14:06:15,004 - __main__ - WARNING - [Page 3] No movie list found after all fallback attempts
2025-12-21 14:06:16,595 - __main__ - WARNING - [Page 4] Initial attempt failed. Starting smart fallback mechanism...
2025-12-21 14:06:29,790 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 response: size=24364, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:06:29,804 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM2 SUCCESS - got valid HTML (size=24364 bytes)
2025-12-21 14:06:29,812 - __main__ - WARNING - [Page 4] Proxy 'Singapore-ARM2' failed both Direct and CF modes (Ad Hoc mode - not marking as banned)
2025-12-21 14:06:29,812 - __main__ - INFO - [Page 4] Switching to next proxy...
2025-12-21 14:06:29,812 - utils.proxy_pool - WARNING - Proxy 'Singapore-ARM2' failed (1/3)
2025-12-21 14:06:29,813 - utils.proxy_pool - INFO - Switched from 'Singapore-ARM2' to 'Singapore-ARM1'
2025-12-21 14:06:42,827 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 response: size=25406, turnstile_keyword=False, security_verification=False, bypass_failure=False
2025-12-21 14:06:42,838 - utils.request_handler - INFO - [CF Bypass] Proxy=Singapore-ARM1 SUCCESS - got valid HTML (size=25406 bytes)
2025-12-21 14:06:42,845 - __main__ - ERROR - [Page 4] All proxy attempts exhausted.
2025-12-21 14:06:42,846 - __main__ - WARNING - [Page 4] No movie list found after all fallback attempts
2025-12-21 14:06:42,846 - __main__ - INFO - [Page 4] Reached maximum tolerance (3 consecutive empty pages), stopping phase 2
2025-12-21 14:06:42,846 - __main__ - INFO - Phase 2 completed: 0 entries processed
2025-12-21 14:06:42,846 - __main__ - INFO - CSV file written incrementally to: Ad Hoc/Javdb_AdHoc_video_codes_NMSL_20251221.csv
2025-12-21 14:06:42,846 - __main__ - INFO - ==================================================
2025-12-21 14:06:42,846 - __main__ - INFO - SUMMARY REPORT
2025-12-21 14:06:42,846 - __main__ - INFO - ==================================================
2025-12-21 14:06:42,846 - __main__ - INFO - Pages processed: 1 to 10
2025-12-21 14:06:42,846 - __main__ - INFO - Tolerance mechanism: Stops after 3 consecutive pages with no HTML content
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - PHASE 1 SUMMARY
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - Phase 1 entries found: 0
2025-12-21 14:06:42,846 - __main__ - INFO -   - No entries found in Phase 1
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - PHASE 2 SUMMARY
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - Phase 2 entries found: 0
2025-12-21 14:06:42,846 - __main__ - INFO -   - No entries found in Phase 2
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - OVERALL SUMMARY
2025-12-21 14:06:42,846 - __main__ - INFO - ==============================
2025-12-21 14:06:42,846 - __main__ - INFO - Total entries found: 0
2025-12-21 14:06:42,846 - __main__ - INFO - Successfully processed: 0
2025-12-21 14:06:42,846 - __main__ - INFO - Skipped already parsed in this session: 0
2025-12-21 14:06:42,846 - __main__ - INFO - Skipped already parsed in previous runs: 0
2025-12-21 14:06:42,846 - __main__ - INFO - Current parsed links in memory: 0
2025-12-21 14:06:42,846 - __main__ - INFO - Results saved to: Ad Hoc/Javdb_AdHoc_video_codes_NMSL_20251221.csv
2025-12-21 14:06:42,846 - __main__ - INFO - History saved to: Daily Report/parsed_movies_history.csv
2025-12-21 14:06:42,846 - __main__ - INFO - ==================================================
2025-12-21 14:06:42,846 - __main__ - INFO - Committing spider results...
2025-12-21 14:06:42,846 - utils.git_helper - INFO - Git commit/push: branch=main, from_pipeline=True
2025-12-21 14:06:42,876 - utils.git_helper - INFO - Configured git user: tongwu
2025-12-21 14:06:42,890 - utils.git_helper - INFO - Added to git: Daily Report
2025-12-21 14:06:42,904 - utils.git_helper - INFO - Added to git: Ad Hoc
2025-12-21 14:06:42,920 - utils.git_helper - INFO - Added to git: logs/
2025-12-21 14:06:42,933 - utils.git_helper - WARNING - Failed to add parsed_movies_history.csv: Command '['git', 'add', 'parsed_movies_history.csv']' returned non-zero exit status 128.
2025-12-21 14:06:42,975 - utils.git_helper - INFO - Committed with message: Auto-commit: Spider results 2025-12-21 14:06:42
2025-12-21 14:06:43,593 - utils.git_helper - ERROR - Git operation failed: Command ['git', 'push', 'https://tongwu:ghp_***MASKED***@github.com/TongWu/JAVDB_AutoSpider.git', 'main'] returned non-zero exit status 1
